<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Clean 'MSnExp', 'Spectrum' or 'Chromatogram' instances — clean-methods • MSnbase</title>

<!-- jquery -->
<script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/1.7.1/clipboard.min.js" integrity="sha384-cV+rhyOuRHc9Ub/91rihWcGmMmCXDeksTtCihMupQHSsi8GIIRDG0ThDc3HGQFJ3" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../jquery.sticky-kit.min.js"></script>
<script src="../pkgdown.js"></script>



<meta property="og:title" content="Clean 'MSnExp', 'Spectrum' or 'Chromatogram' instances — clean-methods" />

<meta property="og:description" content="This method cleans out individual spectra (Spectrum instances),
  chromatograms (Chromatogram instances)
  or whole experiments (MSnExp instances) of 0-intensity
  peaks. Unless all is set to FALSE, original 0-intensity
  values are retained only around peaks. If more than two 0's were
  separating two peaks, only the first and last ones, those directly
  adjacent to the peak ranges are kept. If two peaks are separated by
  only one 0-intensity value, it is retained. An illustrative example is
  shown below." />
<meta name="twitter:card" content="summary" />


<!-- mathjax -->
<script src='https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML'></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">MSnbase</a>
        <span class="label label-default" data-toggle="tooltip" data-placement="bottom" title="Released package">2.7.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/MSnbase-centroiding.html">MSnbase: centroiding of profile-mode MS data</a>
    </li>
    <li>
      <a href="../articles/MSnbase-demo.html">MSnbase: MS data processing, visualisation and quantification</a>
    </li>
    <li>
      <a href="../articles/MSnbase-development.html">A short introduction to *MSnbase* development</a>
    </li>
    <li>
      <a href="../articles/MSnbase-io.html">MSnbase IO capabilities</a>
    </li>
    <li>
      <a href="../articles/benchmarking.html">MSnbase2 benchmarking</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/lgatto/MSnbase">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Clean 'MSnExp', 'Spectrum' or 'Chromatogram' instances</h1>
    
    <div class="hidden name"><code>clean-methods.Rd</code></div>
    </div>

    <div class="ref-description">
    
    <p>This method cleans out individual spectra (<code>Spectrum</code> instances),
  chromatograms (<code><a href='Chromatogram-class.html'>Chromatogram</a></code> instances)
  or whole experiments (<code>MSnExp</code> instances) of 0-intensity
  peaks. Unless <code>all</code> is set to <code>FALSE</code>, original 0-intensity
  values are retained only around peaks. If more than two 0's were
  separating two peaks, only the first and last ones, those directly
  adjacent to the peak ranges are kept. If two peaks are separated by
  only one 0-intensity value, it is retained. An illustrative example is
  shown below.</p>
    
    </div>

        
    <h2 class="hasAnchor" id="methods"><a class="anchor" href="#methods"></a>Methods</h2>

    <p></p><dl class='dl-horizontal'>
    <dt><code>signature(object = "MSnExp", all = "logical", verbose =
	"logical")</code></dt><dd><p>Cleans all spectra in <code>MSnExp</code>
      object. Displays a control bar if verbose set to <code>TRUE</code>
      (default). Returns a cleaned <code>MSnExp</code> instance.</p></dd>
    <dt><code>signature(object = "Spectrum", all = "logical",
	msLevel. = "numeric")</code></dt><dd><p>Cleans the <code>Spectrum</code>
      object. Returns a cleaned <code>Spectrum</code> instance. If <code>all
	= TRUE</code>, then all zeros are removed. <code>msLevel.</code> defines the
      level of the spectrum, and if <code>msLevel(object) !=
	msLevel.</code>, cleaning is ignored. Only relevant when called from
      <code>OnDiskMSnExp</code> and is only relevant for developers.</p></dd>
    <dt><code>signature(object = "Chromatogram", all = "logical",
	na.rm = "logical")</code></dt><dd><p>Cleans the <code><a href='Chromatogram-class.html'>Chromatogram</a></code> instance and returns
      a cleaned <code><a href='Chromatogram-class.html'>Chromatogram</a></code> object. If
      <code>na.rm</code> is <code>TRUE</code> (default is <code>FALSE</code>) all
      <code>NA</code> intensities are removed before cleaning the chromatogram.</p></dd>
  </dl>
    
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p><code><a href='removePeaks-methods.html'>removePeaks</a></code> and <code><a href='trimMz-methods.html'>trimMz</a></code> for other spectra
  processing methods.</p></div>
    

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='no'>int</span> <span class='kw'>&lt;-</span> <span class='fu'>c</span>(<span class='fl'>1</span>,<span class='fl'>0</span>,<span class='fl'>0</span>,<span class='fl'>0</span>,<span class='fl'>0</span>,<span class='fl'>0</span>,<span class='fl'>0</span>,<span class='fl'>0</span>,<span class='fl'>1</span>,<span class='fl'>1</span>,<span class='fl'>1</span>,<span class='fl'>0</span>,<span class='fl'>0</span>,<span class='fl'>0</span>,<span class='fl'>0</span>,<span class='fl'>0</span>,<span class='fl'>1</span>,<span class='fl'>1</span>,<span class='fl'>0</span>,<span class='fl'>0</span>,<span class='fl'>0</span>,<span class='fl'>0</span>,<span class='fl'>0</span>,<span class='fl'>0</span>,<span class='fl'>0</span>,<span class='fl'>0</span>,<span class='fl'>0</span>,<span class='fl'>0</span>,<span class='fl'>1</span>,<span class='fl'>0</span>,<span class='fl'>0</span>,<span class='fl'>0</span>)
<span class='no'>sp1</span> <span class='kw'>&lt;-</span> <span class='fu'>new</span>(<span class='st'>"Spectrum2"</span>,
           <span class='kw'>intensity</span><span class='kw'>=</span><span class='no'>int</span>,
           <span class='kw'>mz</span><span class='kw'>=</span><span class='fl'>1</span>:<span class='fu'><a href='pSet-class.html'>length</a></span>(<span class='no'>int</span>))
<span class='no'>sp2</span> <span class='kw'>&lt;-</span> <span class='fu'>clean</span>(<span class='no'>sp1</span>) <span class='co'>## default is all=FALSE</span>
<span class='fu'><a href='Spectrum-class.html'>intensity</a></span>(<span class='no'>sp1</span>)</div><div class='output co'>#&gt;  [1] 1 0 0 0 0 0 0 0 1 1 1 0 0 0 0 0 1 1 0 0 0 0 0 0 0 0 0 0 1 0 0 0</div><div class='input'><span class='fu'><a href='Spectrum-class.html'>intensity</a></span>(<span class='no'>sp2</span>)</div><div class='output co'>#&gt;  [1] 1 0 0 1 1 1 0 0 1 1 0 0 1 0</div><div class='input'><span class='fu'><a href='Spectrum-class.html'>intensity</a></span>(<span class='fu'>clean</span>(<span class='no'>sp1</span>, <span class='kw'>all</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>))</div><div class='output co'>#&gt; [1] 1 1 1 1 1 1 1</div><div class='input'>
<span class='fu'><a href='Spectrum-class.html'>mz</a></span>(<span class='no'>sp1</span>)</div><div class='output co'>#&gt;  [1]  1  2  3  4  5  6  7  8  9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25
#&gt; [26] 26 27 28 29 30 31 32</div><div class='input'><span class='fu'><a href='Spectrum-class.html'>mz</a></span>(<span class='no'>sp2</span>)</div><div class='output co'>#&gt;  [1]  1  2  8  9 10 11 12 16 17 18 19 28 29 30</div><div class='input'><span class='fu'><a href='Spectrum-class.html'>mz</a></span>(<span class='fu'>clean</span>(<span class='no'>sp1</span>, <span class='kw'>all</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>))</div><div class='output co'>#&gt; [1]  1  9 10 11 17 18 29</div><div class='input'>
<span class='fu'>data</span>(<span class='no'>itraqdata</span>)
<span class='no'>itraqdata2</span> <span class='kw'>&lt;-</span> <span class='fu'>clean</span>(<span class='no'>itraqdata</span>)
<span class='fu'>sum</span>(<span class='fu'><a href='Spectrum-class.html'>peaksCount</a></span>(<span class='no'>itraqdata</span>))</div><div class='output co'>#&gt; [1] 106289</div><div class='input'><span class='fu'>sum</span>(<span class='fu'><a href='Spectrum-class.html'>peaksCount</a></span>(<span class='no'>itraqdata2</span>))</div><div class='output co'>#&gt; [1] 59747</div><div class='input'><span class='fu'><a href='pSet-class.html'>processingData</a></span>(<span class='no'>itraqdata2</span>)</div><div class='output co'>#&gt; - - - Processing information - - -
#&gt; Data loaded: Wed May 11 18:54:39 2011 
#&gt; Updated from version 0.3.0 to 0.3.1 [Fri Jul  8 20:23:25 2016] 
#&gt; Spectra cleaned: Thu May 17 15:33:55 2018 
#&gt;  MSnbase version: 1.1.22 </div><div class='input'>
<span class='co'>## Create a simple Chromatogram object</span>
<span class='no'>chr</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='Chromatogram-class.html'>Chromatogram</a></span>(<span class='kw'>rtime</span> <span class='kw'>=</span> <span class='fl'>1</span>:<span class='fl'>12</span>,
                    <span class='kw'>intensity</span> <span class='kw'>=</span> <span class='fu'>c</span>(<span class='fl'>0</span>, <span class='fl'>0</span>, <span class='fl'>20</span>, <span class='fl'>0</span>, <span class='fl'>0</span>, <span class='fl'>0</span>, <span class='fl'>123</span>, <span class='fl'>124343</span>, <span class='fl'>3432</span>, <span class='fl'>0</span>, <span class='fl'>0</span>, <span class='fl'>0</span>))

<span class='co'>## Remove 0-intensity values keeping those adjacent to peaks</span>
<span class='no'>chr</span> <span class='kw'>&lt;-</span> <span class='fu'>clean</span>(<span class='no'>chr</span>)
<span class='fu'><a href='Spectrum-class.html'>intensity</a></span>(<span class='no'>chr</span>)</div><div class='output co'>#&gt; [1]      0     20      0      0    123 124343   3432      0</div><div class='input'>
<span class='co'>## Remove all 0-intensity values</span>
<span class='no'>chr</span> <span class='kw'>&lt;-</span> <span class='fu'>clean</span>(<span class='no'>chr</span>, <span class='kw'>all</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>)
<span class='fu'><a href='Spectrum-class.html'>intensity</a></span>(<span class='no'>chr</span>)</div><div class='output co'>#&gt; [1]     20    123 124343   3432</div><div class='input'>
<span class='co'>## Clean a Chromatogram with NAs.</span>
<span class='no'>chr</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='Chromatogram-class.html'>Chromatogram</a></span>(<span class='kw'>rtime</span> <span class='kw'>=</span> <span class='fl'>1</span>:<span class='fl'>12</span>,
                    <span class='kw'>intensity</span> <span class='kw'>=</span> <span class='fu'>c</span>(<span class='fl'>0</span>, <span class='fl'>0</span>, <span class='fl'>20</span>, <span class='fl'>NA</span>, <span class='fl'>NA</span>, <span class='fl'>0</span>, <span class='fl'>123</span>, <span class='fl'>124343</span>, <span class='fl'>3432</span>, <span class='fl'>0</span>, <span class='fl'>0</span>, <span class='fl'>0</span>))
<span class='no'>chr</span> <span class='kw'>&lt;-</span> <span class='fu'>clean</span>(<span class='no'>chr</span>, <span class='kw'>all</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>, <span class='kw'>na.rm</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>)
<span class='fu'><a href='Spectrum-class.html'>intensity</a></span>(<span class='no'>chr</span>)</div><div class='output co'>#&gt; [1]      0     20      0    123 124343   3432      0</div><div class='input'>
</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      
      <li><a href="#methods">Methods</a></li>

      <li><a href="#see-also">See also</a></li>
      
      <li><a href="#examples">Examples</a></li>
    </ul>

    <h2>Author</h2>
    
  Laurent Gatto &lt;lg390@cam.ac.uk&gt;

  </div>
</div>

      <footer>
      <div class="copyright">
  <p>Developed by Laurent Gatto, Johannes Rainer, Sebastian Gibb.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://pkgdown.r-lib.org/">pkgdown</a>.</p>
</div>

      </footer>
   </div>

  

  </body>
</html>

