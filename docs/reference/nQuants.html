<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Count the number of quantitfied features. — nQuants • MSnbase</title>

<!-- jquery -->
<script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/1.7.1/clipboard.min.js" integrity="sha384-cV+rhyOuRHc9Ub/91rihWcGmMmCXDeksTtCihMupQHSsi8GIIRDG0ThDc3HGQFJ3" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../jquery.sticky-kit.min.js"></script>
<script src="../pkgdown.js"></script>



<meta property="og:title" content="Count the number of quantitfied features. — nQuants" />

<meta property="og:description" content="This function counts the number of quantified features, i.e
non NA quantitation values, for each group of features
for all the samples in an "MSnSet" object.
The group of features are defined by a feature variable names, i.e
the name of a column of fData(object)." />
<meta name="twitter:card" content="summary" />


<!-- mathjax -->
<script src='https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML'></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">MSnbase</a>
        <span class="label label-default" data-toggle="tooltip" data-placement="bottom" title="Released package">2.7.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/MSnbase-centroiding.html">MSnbase: centroiding of profile-mode MS data</a>
    </li>
    <li>
      <a href="../articles/MSnbase-demo.html">MSnbase: MS data processing, visualisation and quantification</a>
    </li>
    <li>
      <a href="../articles/MSnbase-development.html">A short introduction to *MSnbase* development</a>
    </li>
    <li>
      <a href="../articles/MSnbase-io.html">MSnbase IO capabilities</a>
    </li>
    <li>
      <a href="../articles/benchmarking.html">MSnbase2 benchmarking</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/lgatto/MSnbase">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Count the number of quantitfied features.</h1>
    <small class="dont-index">Source: <a href='https://github.com/lgatto/MSnbase/blob/master/R/functions-MSnSet.R'><code>R/functions-MSnSet.R</code></a></small>
    <div class="hidden name"><code>nQuants.Rd</code></div>
    </div>

    <div class="ref-description">
    
    <p>This function counts the number of quantified features, i.e
non NA quantitation values, for each group of features
for all the samples in an <code>"<a href='MSnSet-class.html'>MSnSet</a>"</code> object.
The group of features are defined by a feature variable names, i.e
the name of a column of <code>fData(object)</code>.</p>
    
    </div>

    <pre class="usage"><span class='fu'>nQuants</span>(<span class='no'>x</span>, <span class='no'>groupBy</span>)</pre>
    
    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>x</th>
      <td><p>An instance of class <code>"<a href='MSnSet-class.html'>MSnSet</a>"</code>.</p></td>
    </tr>
    <tr>
      <th>groupBy</th>
      <td><p>An object of class <code>factor</code> defining how to
summerise the features. (Note that this parameter was
previously named <code>fcol</code> and referred to a feature
variable label. This has been updated in version 1.19.12 for
consistency with other functions.)</p></td>
    </tr>
    </table>
    
    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>A <code>matrix</code> of dimensions
    <code><a href='pSet-class.html'>length(levels(groupBy))</a></code> by <code>ncol(x)</code></p>
<p>A <code>matrix</code> of dimensions
    <code><a href='pSet-class.html'>length(levels(factor(fData(object)[, fcol])))</a></code> by
    <code>ncol(object)</code> of integers.</p>
    
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>This function is typically used after <code><a href='MSnSet-class.html'>topN</a></code> and before
<code><a href='combineFeatures.html'>combineFeatures</a></code>, when the summerising function is
<code>sum</code>, or any function that does not normalise to the number of
features aggregated. In the former case, sums of features might
be the result of 0 (if no feature was quantified) to <code>n</code>
(if all <code>topN</code>'s <code>n</code> features were quantified) features,
and one might want to rescale the sums based on the number of
non-NA features effectively summed.</p>
    

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='fu'>data</span>(<span class='no'>msnset</span>)
<span class='no'>n</span> <span class='kw'>&lt;-</span> <span class='fl'>2</span>
<span class='no'>msnset</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='MSnSet-class.html'>topN</a></span>(<span class='no'>msnset</span>, <span class='kw'>groupBy</span> <span class='kw'>=</span> <span class='fu'>fData</span>(<span class='no'>msnset</span>)$<span class='no'>ProteinAccession</span>, <span class='no'>n</span>)
<span class='no'>m</span> <span class='kw'>&lt;-</span> <span class='fu'>nQuants</span>(<span class='no'>msnset</span>, <span class='kw'>groupBy</span> <span class='kw'>=</span> <span class='fu'>fData</span>(<span class='no'>msnset</span>)$<span class='no'>ProteinAccession</span>)
<span class='no'>msnset2</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='combineFeatures.html'>combineFeatures</a></span>(<span class='no'>msnset</span>,
                           <span class='kw'>groupBy</span> <span class='kw'>=</span> <span class='fu'>fData</span>(<span class='no'>msnset</span>)$<span class='no'>ProteinAccession</span>,
                           <span class='kw'>fun</span> <span class='kw'>=</span> <span class='no'>sum</span>)
<span class='fu'>stopifnot</span>(<span class='fu'><a href='pSet-class.html'>dim</a></span>(<span class='no'>n</span>) <span class='kw'>==</span> <span class='fu'><a href='pSet-class.html'>dim</a></span>(<span class='no'>msnset2</span>))
<span class='fu'>head</span>(<span class='fu'>exprs</span>(<span class='no'>msnset2</span>))</div><div class='output co'>#&gt;         iTRAQ4.114 iTRAQ4.115 iTRAQ4.116 iTRAQ4.117
#&gt; BSA       2941.052   5174.721   8955.985  18023.287
#&gt; ECA0172  17593.548  18545.620  19361.837  18328.237
#&gt; ECA0435   9847.256  11115.636  11550.405  10158.590
#&gt; ECA0452   1524.148   1399.897   1547.218   1563.230
#&gt; ECA0469   2139.889   2071.378   2058.840   1999.391
#&gt; ECA0621   1101.062   1124.167   1140.093   1191.805</div><div class='input'><span class='fu'>head</span>(<span class='fu'>exprs</span>(<span class='no'>msnset2</span>) * (<span class='no'>n</span>/<span class='no'>m</span>))</div><div class='output co'>#&gt;         iTRAQ4.114 iTRAQ4.115 iTRAQ4.116 iTRAQ4.117
#&gt; BSA       2941.052   5174.721   8955.985  18023.287
#&gt; ECA0172  35187.095  37091.239  38723.673  36656.473
#&gt; ECA0435   9847.256  11115.636  11550.405  10158.590
#&gt; ECA0452   3048.295   2799.794   3094.437   3126.460
#&gt; ECA0469   2139.889   2071.378   2058.840   1999.391
#&gt; ECA0621   2202.124   2248.334   2280.186   2383.611</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      
      <li><a href="#value">Value</a></li>

      <li><a href="#details">Details</a></li>
      
      <li><a href="#examples">Examples</a></li>
    </ul>

    <h2>Author</h2>
    
Laurent Gatto &lt;lg390@cam.ac.uk&gt;, Sebastian Gibb
    &lt;mail@sebastiangibb.de&gt;

  </div>
</div>

      <footer>
      <div class="copyright">
  <p>Developed by Laurent Gatto, Johannes Rainer, Sebastian Gibb.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://pkgdown.r-lib.org/">pkgdown</a>.</p>
</div>

      </footer>
   </div>

  

  </body>
</html>

