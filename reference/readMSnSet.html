<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Read 'MSnSet' — readMSnSet • MSnbase</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Read 'MSnSet' — readMSnSet" />
<meta property="og:description" content="
  
This function reads data files to generate an
  MSnSet instance. It is a wrapper around
  Biobase's readExpressionSet function with an
  additional featureDataFile parameter to include feature data.
  See also readExpressionSet for more details.
  readMSnSet2 is a simple version that takes a single text
  spreadsheet as input and extracts the expression data and feature
  meta-data to create and MSnSet.
Note that when using readMSnSet2, one should not set
  rownames as additional argument to defined feature names. It is
  ignored and used to set fnames if not provided otherwise." />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">MSnbase</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">2.13.6</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/v01-MSnbase-demo.html">MSnbase: MS data processing, visualisation and quantification</a>
    </li>
    <li>
      <a href="../articles/v02-MSnbase-io.html">MSnbase IO capabilities</a>
    </li>
    <li>
      <a href="../articles/v03-MSnbase-centroiding.html">MSnbase: centroiding of profile-mode MS data</a>
    </li>
    <li>
      <a href="../articles/v04-benchmarking.html">MSnbase benchmarking</a>
    </li>
    <li>
      <a href="../articles/v05-MSnbase-development.html">A short introduction to *MSnbase* development</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/lgatto/MSnbase/">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Read 'MSnSet'</h1>
    
    <div class="hidden name"><code>readMSnSet.Rd</code></div>
    </div>

    <div class="ref-description">
    
  
<p>This function reads data files to generate an
  <code><a href='MSnSet-class.html'>MSnSet</a></code> instance. It is a wrapper around
  <code>Biobase</code>'s <code>readExpressionSet</code> function with an
  additional <code>featureDataFile</code> parameter to include feature data.
  See also <code>readExpressionSet</code> for more details.
  <code>readMSnSet2</code> is a simple version that takes a single text
  spreadsheet as input and extracts the expression data and feature
  meta-data to create and <code>MSnSet</code>.</p>
<p>Note that when using <code>readMSnSet2</code>, one should not set
  <code>rownames</code> as additional argument to defined feature names. It is
  ignored and used to set <code>fnames</code> if not provided otherwise.</p>
    </div>

    <pre class="usage"><span class='fu'>readMSnSet</span>(<span class='no'>exprsFile</span>,
           <span class='no'>phenoDataFile</span>,
           <span class='no'>featureDataFile</span>,
           <span class='no'>experimentDataFile</span>,
           <span class='no'>notesFile</span>,
           <span class='no'>path</span>, <span class='no'>annotation</span>,
           <span class='kw'>exprsArgs</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span>(<span class='kw'>sep</span> <span class='kw'>=</span> <span class='no'>sep</span>, <span class='kw'>header</span> <span class='kw'>=</span> <span class='no'>header</span>, <span class='kw'>row.names</span> <span class='kw'>=</span> <span class='no'>row.names</span>, <span class='kw'>quote</span> <span class='kw'>=</span> <span class='no'>quote</span>, <span class='no'>...</span>),
           <span class='kw'>phenoDataArgs</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span>(<span class='kw'>sep</span> <span class='kw'>=</span> <span class='no'>sep</span>, <span class='kw'>header</span> <span class='kw'>=</span> <span class='no'>header</span>, <span class='kw'>row.names</span> <span class='kw'>=</span> <span class='no'>row.names</span>, <span class='kw'>quote</span> <span class='kw'>=</span> <span class='no'>quote</span>, <span class='kw'>stringsAsFactors</span> <span class='kw'>=</span> <span class='no'>stringsAsFactors</span>, <span class='no'>...</span>),
           <span class='kw'>featureDataArgs</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span>(<span class='kw'>sep</span> <span class='kw'>=</span> <span class='no'>sep</span>, <span class='kw'>header</span> <span class='kw'>=</span> <span class='no'>header</span>, <span class='kw'>row.names</span> <span class='kw'>=</span> <span class='no'>row.names</span>, <span class='kw'>quote</span> <span class='kw'>=</span> <span class='no'>quote</span>, <span class='kw'>stringsAsFactors</span> <span class='kw'>=</span> <span class='no'>stringsAsFactors</span>, <span class='no'>...</span>),
           <span class='kw'>experimentDataArgs</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span>(<span class='kw'>sep</span> <span class='kw'>=</span> <span class='no'>sep</span>, <span class='kw'>header</span> <span class='kw'>=</span> <span class='no'>header</span>, <span class='kw'>row.names</span> <span class='kw'>=</span> <span class='no'>row.names</span>, <span class='kw'>quote</span> <span class='kw'>=</span> <span class='no'>quote</span>, <span class='kw'>stringsAsFactors</span> <span class='kw'>=</span> <span class='no'>stringsAsFactors</span>, <span class='no'>...</span>),
           <span class='kw'>sep</span> <span class='kw'>=</span> <span class='st'>"\t"</span>,
           <span class='kw'>header</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>,
           <span class='kw'>quote</span> <span class='kw'>=</span> <span class='st'>""</span>,
           <span class='kw'>stringsAsFactors</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>,
           <span class='kw'>row.names</span> <span class='kw'>=</span> <span class='fl'>1L</span>,
           <span class='kw'>widget</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/options.html'>getOption</a></span>(<span class='st'>"BioC"</span>)$<span class='no'>Base</span>$<span class='no'>use.widgets</span>, <span class='no'>...</span>)

<span class='fu'>readMSnSet2</span>(<span class='no'>file</span>, <span class='no'>ecol</span>, <span class='no'>fnames</span>, <span class='no'>...</span>)</pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>exprsFile</th>
      <td><p>(character) File or connection from which to read
    expression values. The file should contain a matrix with rows as
    features and columns as samples. <code><a href='https://rdrr.io/r/utils/read.table.html'>read.table</a></code> is called
    with this as its <code>file</code> argument and further arguments given by
    <code>exprsArgs</code>.</p></td>
    </tr>
    <tr>
      <th>phenoDataFile</th>
      <td><p>(character) File or connection from which to read
    phenotypic data. <code>read.AnnotatedDataFrame</code> is called
    with this as its <code>file</code> argument and further arguments given by
    <code>phenoDataArgs</code>.</p></td>
    </tr>
    <tr>
      <th>experimentDataFile</th>
      <td><p>(character) File or connection from which to
    read experiment data. <code>read.MIAME</code> is called with this
    as its <code>file</code> argument and further arguments given by
    <code>experimentDataArgs</code>.</p></td>
    </tr>
    <tr>
      <th>notesFile</th>
      <td><p>(character) File or connection from which to read
    notes; <code><a href='https://rdrr.io/r/base/readLines.html'>readLines</a></code> is used to input the file.</p></td>
    </tr>
    <tr>
      <th>path</th>
      <td><p>(optional) directory in which to find all the above
    files.</p></td>
    </tr>
    <tr>
      <th>annotation</th>
      <td><p>(character) A single character string indicating the
    annotation associated with this ExpressionSet.</p></td>
    </tr>
    <tr>
      <th>exprsArgs</th>
      <td><p>A list of arguments to be used with
    <code><a href='https://rdrr.io/r/utils/read.table.html'>read.table</a></code> when reading in the expression matrix.</p></td>
    </tr>
    <tr>
      <th>phenoDataArgs</th>
      <td><p>A list of arguments to be used (with
    <code>read.AnnotatedDataFrame</code>) when reading
    the phenotypic data.</p></td>
    </tr>
    <tr>
      <th>experimentDataArgs</th>
      <td><p>A list of arguments to be used (with
    <code>read.MIAME</code>) when reading the experiment data.</p></td>
    </tr>
    <tr>
      <th>sep, header, quote, stringsAsFactors, row.names</th>
      <td><p>arguments used
    by the <code><a href='https://rdrr.io/r/utils/read.table.html'>read.table</a></code>-like functions.</p></td>
    </tr>
    <tr>
      <th>widget</th>
      <td><p>A boolean value indicating whether widgets can be
    used. Widgets are NOT yet implemented for
    <code>read.AnnotatedDataFrame</code>.</p></td>
    </tr>
    <tr>
      <th>...</th>
      <td><p>Further arguments that can be passed on to the
    <code><a href='https://rdrr.io/r/utils/read.table.html'>read.table</a></code>-like functions.</p></td>
    </tr>
    <tr>
      <th>featureDataFile</th>
      <td><p>(character) File or connection from which to read
    feature data. <code>read.AnnotatedDataFrame</code> is called
    with this as its <code>file</code> argument and further arguments given by
    <code>phenoDataArgs</code>.</p></td>
    </tr>
    <tr>
      <th>featureDataArgs</th>
      <td><p>A list of arguments to be used (with
    <code>read.AnnotatedDataFrame</code>) when reading the phenotypic
    data.</p></td>
    </tr>
    <tr>
      <th>file</th>
      <td><p>A <code>character</code> indicating the spreadsheet file or a
    <code>data.frame</code> (new in version 1.19.8). Default, when <code>file</code>
    is a <code>character</code>, is to read the file as a comma-separated
    values (csv). If different, use the additional arguments, passed to
    <code><a href='https://rdrr.io/r/utils/read.table.html'>read.csv</a></code>, to parametrise file import.</p>
<p>Passing a <code>data.frame</code> can be particularly useful if the
    spreadsheet is in Excel format. The appropriate sheet can first be
    read into R as a <code>data.frame</code> using, for example
    <code>readxl::read_excel</code>, and then pass it to <code>readMSnSet2</code>.</p>

<p></p></td>
    </tr>
    <tr>
      <th>ecol</th>
      <td><p>A <code>numeric</code> indicating the indices of the columns to
    be used as expression values. Can also be a <code>character</code>
    indicating the names of the columns. Caution must be taken if the
    column names are composed of special characters like <code>(</code> or
    <code>-</code> that will be converted to a <code>.</code>. If <code>ecol</code> does
    not match, the error message will dislpay the column names are see
    by <code>R</code>.</p></td>
    </tr>
    <tr>
      <th>fnames</th>
      <td><p>An optional <code>character</code> or <code>numeric</code> of length
    1 indicating the column to be used as feature names.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>An instance of the <code><a href='MSnSet-class.html'>MSnSet</a></code> class.</p>
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'>
  
<p>The <code><a href='grepEcols.html'>grepEcols</a></code> and <code><a href='grepEcols.html'>getEcols</a></code> helper
  functions to identify the <code>ecol</code> values.  The <code>MSnbase-io</code>
  vignette illustrates these functions in detail. It can be accessed
  with <code>vignette("MSnbase-io")</code>.</p></div>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='kw'>if</span> (<span class='fl'>FALSE</span>) {
<span class='no'>exprsFile</span> <span class='kw'>&lt;-</span> <span class='st'>"path_to_intensity_file.csv"</span>
<span class='no'>fdatafile</span> <span class='kw'>&lt;-</span> <span class='st'>"path_to_featuredata_file.csv"</span>
<span class='no'>pdatafile</span> <span class='kw'>&lt;-</span> <span class='st'>"path_to_sampledata_file.csv"</span>
<span class='co'>## Read ExpressionSet with appropriate parameters</span>
<span class='no'>res</span> <span class='kw'>&lt;-</span> <span class='fu'>readMSnSet</span>(<span class='no'>exprsFile</span>, <span class='no'>pdataFile</span>, <span class='no'>fdataFile</span>, <span class='kw'>sep</span> <span class='kw'>=</span> <span class='st'>"\t"</span>, <span class='kw'>header</span><span class='kw'>=</span><span class='fl'>TRUE</span>)
}

<span class='fu'><a href='https://rdrr.io/r/base/library.html'>library</a></span>(<span class='st'>"pRolocdata"</span>)
<span class='no'>f0</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/list.files.html'>dir</a></span>(<span class='fu'><a href='https://rdrr.io/r/base/system.file.html'>system.file</a></span>(<span class='st'>"extdata"</span>, <span class='kw'>package</span> <span class='kw'>=</span> <span class='st'>"pRolocdata"</span>),
          <span class='kw'>full.names</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>,
          <span class='kw'>pattern</span> <span class='kw'>=</span> <span class='st'>"Dunkley2006"</span>)
<span class='fu'><a href='https://rdrr.io/r/base/basename.html'>basename</a></span>(<span class='no'>f0</span>)</div><div class='output co'>#&gt; [1] "Dunkley2006.csv.gz"</div><div class='input'><span class='no'>res</span> <span class='kw'>&lt;-</span> <span class='fu'>readMSnSet2</span>(<span class='no'>f0</span>, <span class='kw'>ecol</span> <span class='kw'>=</span> <span class='fl'>5</span>:<span class='fl'>20</span>)
<span class='no'>res</span></div><div class='output co'>#&gt; MSnSet (storageMode: lockedEnvironment)
#&gt; assayData: 689 features, 16 samples 
#&gt;   element names: exprs 
#&gt; protocolData: none
#&gt; phenoData: none
#&gt; featureData
#&gt;   featureNames: 1 2 ... 689 (689 total)
#&gt;   fvarLabels: Protein.ID Loc.Predicted ... pd.markers (6 total)
#&gt;   fvarMetadata: labelDescription
#&gt; experimentData: use 'experimentData(object)'
#&gt; Annotation:  
#&gt; - - - Processing information - - -
#&gt;  MSnbase version: 2.13.6 </div><div class='input'><span class='fu'><a href='https://rdrr.io/r/utils/head.html'>head</a></span>(<span class='fu'>exprs</span>(<span class='no'>res</span>)) <span class='co'>## columns 5 to 20</span></div><div class='output co'>#&gt;      M1F1A    M1F4A    M1F7A   M1F11A    M1F2B    M1F5B    M1F8B   M1F11B
#&gt; 1 0.323250 0.275500 0.216000 0.185250 0.465667 0.199667 0.174333 0.160333
#&gt; 2 0.332000 0.279667 0.222000 0.166000 0.451500 0.200375 0.177250 0.171125
#&gt; 3 0.397250 0.246500 0.168250 0.188250 0.459750 0.214500 0.183250 0.142250
#&gt; 4 0.336733 0.303267 0.201133 0.158800 0.487167 0.201833 0.165333 0.145333
#&gt; 5 0.328800 0.302900 0.192100 0.176400 0.542000 0.180750 0.151250 0.126250
#&gt; 6 0.343714 0.295286 0.195000 0.165714 0.500111 0.207000 0.160333 0.132444
#&gt;      M2F1A    M2F4A    M2F7A   M2F11A    M2F2B    M2F5B    M2F8B M2F11B
#&gt; 1 0.370667 0.317444 0.154333 0.157444 0.379500 0.333000 0.161000 0.1270
#&gt; 2 0.371923 0.290923 0.168000 0.169154 0.428800 0.285600 0.153000 0.1328
#&gt; 3 0.390200 0.298400 0.176800 0.134200 0.413500 0.255000 0.172500 0.1590
#&gt; 4 0.387833 0.326833 0.152667 0.133000 0.416333 0.305667 0.147333 0.1310
#&gt; 5 0.356714 0.306857 0.172143 0.164286 0.450333 0.260667 0.158667 0.1300
#&gt; 6 0.344087 0.326739 0.177609 0.151739 0.373750 0.295375 0.176625 0.1540</div><div class='input'><span class='fu'><a href='https://rdrr.io/r/utils/head.html'>head</a></span>(<span class='fu'>fData</span>(<span class='no'>res</span>)) <span class='co'>## other columns</span></div><div class='output co'>#&gt;   Protein.ID Loc.Predicted Loc.Confirmed Loc.Assigned pd.2013 pd.markers
#&gt; 1  At1g09210  predicted ER  predicted ER           ER      ER   ER lumen
#&gt; 2  At1g21750  predicted ER  predicted ER           ER      ER   ER lumen
#&gt; 3  At1g51760       unknown       unknown           ER      ER   ER lumen
#&gt; 4  At1g56340  predicted ER  predicted ER           ER      ER   ER lumen
#&gt; 5  At2g32920  predicted ER  predicted ER           ER      ER   ER lumen
#&gt; 6  At2g47470  predicted ER  predicted ER           ER      ER   ER lumen</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Laurent Gatto, Johannes Rainer, Sebastian Gibb.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.5.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


