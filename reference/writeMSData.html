<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Write MS data to mzML or mzXML files — writeMSData,MSnExp,character-method • MSnbase</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Write MS data to mzML or mzXML files — writeMSData,MSnExp,character-method"><meta name="description" content="The writeMSData,MSnExp and writeMSData,OnDiskMSnExp saves
the content of a MSnExp or OnDiskMSnExp object to MS file(s) in
either mzML or mzXML format."><meta property="og:description" content="The writeMSData,MSnExp and writeMSData,OnDiskMSnExp saves
the content of a MSnExp or OnDiskMSnExp object to MS file(s) in
either mzML or mzXML format."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">MSnbase</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">2.35.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/v01-MSnbase-demo.html">MSnbase: MS data processing, visualisation and quantification</a></li>
    <li><a class="dropdown-item" href="../articles/v02-MSnbase-io.html">MSnbase IO capabilities</a></li>
    <li><a class="dropdown-item" href="../articles/v03-MSnbase-centroiding.html">MSnbase: centroiding of profile-mode MS data</a></li>
    <li><a class="dropdown-item" href="../articles/v04-benchmarking.html">MSnbase benchmarking</a></li>
    <li><a class="dropdown-item" href="../articles/v05-MSnbase-development.html">A short introduction to *MSnbase* development</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/lgatto/MSnbase/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Write MS data to mzML or mzXML files</h1>
      <small class="dont-index">Source: <a href="https://github.com/lgatto/MSnbase/blob/master/R/methods-write.R" class="external-link"><code>R/methods-write.R</code></a></small>
      <div class="d-none name"><code>writeMSData.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>The <code>writeMSData,MSnExp</code> and <code>writeMSData,OnDiskMSnExp</code> saves
the content of a <a href="MSnExp-class.html">MSnExp</a> or <a href="OnDiskMSnExp-class.html">OnDiskMSnExp</a> object to MS file(s) in
either <em>mzML</em> or <em>mzXML</em> format.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="co"># S4 method for class 'MSnExp,character'</span></span>
<span><span class="fu">writeMSData</span><span class="op">(</span></span>
<span>  <span class="va">object</span>,</span>
<span>  <span class="va">file</span>,</span>
<span>  outformat <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"mzml"</span>, <span class="st">"mzxml"</span><span class="op">)</span>,</span>
<span>  merge <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  verbose <span class="op">=</span> <span class="fu"><a href="MSnbaseOptions.html">isMSnbaseVerbose</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  copy <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  software_processing <span class="op">=</span> <span class="cn">NULL</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-object">object<a class="anchor" aria-label="anchor" href="#arg-object"></a></dt>
<dd><p><code>OnDiskMSnExp</code> or <code>MSnExp</code> object.</p></dd>


<dt id="arg-file">file<a class="anchor" aria-label="anchor" href="#arg-file"></a></dt>
<dd><p><code>character</code> with the file name(s). Its length has to match the
number of samples/files of <code>x</code>.</p></dd>


<dt id="arg-outformat">outformat<a class="anchor" aria-label="anchor" href="#arg-outformat"></a></dt>
<dd><p><code>character(1)</code> defining the format of the output files.
Default output format is <code>"mzml"</code>.</p></dd>


<dt id="arg-merge">merge<a class="anchor" aria-label="anchor" href="#arg-merge"></a></dt>
<dd><p><code>logical(1)</code> whether the data should be saved into a single
<em>mzML</em> file. Default is <code>merge = FALSE</code>, i.e. each sample is saved to
a separate file. <strong>Note</strong>: <code>merge = TRUE</code> is not yet implemented.</p></dd>


<dt id="arg-verbose">verbose<a class="anchor" aria-label="anchor" href="#arg-verbose"></a></dt>
<dd><p><code>logical(1)</code> if progress messages should be displayed.</p></dd>


<dt id="arg-copy">copy<a class="anchor" aria-label="anchor" href="#arg-copy"></a></dt>
<dd><p><code>logical(1)</code> if metadata (data processings, original file names
etc) should be copied from the original files. See details for more
information.</p></dd>


<dt id="arg-software-processing">software_processing<a class="anchor" aria-label="anchor" href="#arg-software-processing"></a></dt>
<dd><p>optionally provide specific data processing steps.
See documentation of the <code>software_processing</code> parameter of
<code><a href="https://rdrr.io/pkg/ProtGenerics/man/protgenerics.html" class="external-link">mzR::writeMSData()</a></code>.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>The <code>writeMSData</code> method uses the <em>proteowizard</em> libraries through
the <code>mzR</code> package to save the MS data. The data can be written to
<em>mzML</em> or <em>mzXML</em> files with or without copying additional metadata
information from the original files from which the data was read by the
<code><a href="readMSData.html">readMSData()</a></code> function. This can be set using the <code>copy</code> parameter.
Note that <code>copy = TRUE</code> requires the original files to be available and
is not supported for input files in other than mzML or mzXML format.
All metadata related to the run is copied, such as instrument
information, data processings etc. If <code>copy = FALSE</code> only processing
information performed in R (using <code>MSnbase</code>) are saved to the mzML file.</p>
<p>Currently only spectrum data is supported, i.e. if the original mzML
file contains also chromatogram data it is not copied/saved to the new
mzML file.</p>
    </div>
    <div class="section level2">
    <h2 id="note">Note<a class="anchor" aria-label="anchor" href="#note"></a></h2>
    <p>General spectrum data such as total ion current, peak count, base peak
m/z or base peak intensity are calculated from the actual spectrum data
before writing the data to the files.</p>
<p>For MSn data, if the <code>OnDiskMSnExp</code> or <code>MSnExp</code> does not contain also
the precursor scan of a MS level &gt; 1 spectrum (e.g. due to filtering on
the MS level) <code>precursorScanNum</code> is set to 0 in the output file to
avoid potentially linking to a wrong spectrum.</p>
<p>The exported <code>mzML</code> file <em>should</em> be valid according to the mzML 1.1.2
standard. For exported <code>mzXML</code> files it can not be guaranteed that they
are valid and can be opened with other software than <code>mzR</code>/<code>MSnbase</code>.</p>
    </div>
    <div class="section level2">
    <h2 id="author">Author<a class="anchor" aria-label="anchor" href="#author"></a></h2>
    <p>Johannes Rainer</p>
    </div>

  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Laurent Gatto, Johannes Rainer, Sebastian Gibb.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.9000.</p>
</div>

    </footer></div>





  </body></html>

