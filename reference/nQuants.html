<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Count the number of quantitfied features. — nQuants • MSnbase</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Count the number of quantitfied features. — nQuants"><meta property="og:description" content='This function counts the number of quantified features, i.e
non NA quantitation values, for each group of features
for all the samples in an "MSnSet" object.
The group of features are defined by a feature variable names, i.e
the name of a column of fData(object).'><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">MSnbase</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">2.25.2</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/v01-MSnbase-demo.html">MSnbase: MS data processing, visualisation and quantification</a>
    </li>
    <li>
      <a href="../articles/v02-MSnbase-io.html">MSnbase IO capabilities</a>
    </li>
    <li>
      <a href="../articles/v03-MSnbase-centroiding.html">MSnbase: centroiding of profile-mode MS data</a>
    </li>
    <li>
      <a href="../articles/v04-benchmarking.html">MSnbase benchmarking</a>
    </li>
    <li>
      <a href="../articles/v05-MSnbase-development.html">A short introduction to *MSnbase* development</a>
    </li>
  </ul></li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/lgatto/MSnbase/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Count the number of quantitfied features.</h1>
    <small class="dont-index">Source: <a href="https://github.com/lgatto/MSnbase/blob/HEAD/R/functions-MSnSet.R" class="external-link"><code>R/functions-MSnSet.R</code></a></small>
    <div class="hidden name"><code>nQuants.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>This function counts the number of quantified features, i.e
non NA quantitation values, for each group of features
for all the samples in an <code>"<a href="MSnSet-class.html">MSnSet</a>"</code> object.
The group of features are defined by a feature variable names, i.e
the name of a column of <code>fData(object)</code>.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">nQuants</span><span class="op">(</span><span class="va">x</span>, <span class="va">groupBy</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>x</dt>
<dd><p>An instance of class <code>"<a href="MSnSet-class.html">MSnSet</a>"</code>.</p></dd>


<dt>groupBy</dt>
<dd><p>An object of class <code>factor</code> defining how to
summerise the features. (Note that this parameter was
previously named <code>fcol</code> and referred to a feature
variable label. This has been updated in version 1.19.12 for
consistency with other functions.)</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    

<p>A <code>matrix</code> of dimensions
<code>length(levels(groupBy))</code> by <code>ncol(x)</code></p>



<p>A <code>matrix</code> of dimensions
<code>length(levels(factor(fData(object)[, fcol])))</code> by
<code>ncol(object)</code> of integers.</p>
    </div>
    <div id="details">
    <h2>Details</h2>
    <p>This function is typically used after <code><a href="MSnSet-class.html">topN</a></code> and before
<code><a href="combineFeatures.html">combineFeatures</a></code>, when the summerising function is
<code>sum</code>, or any function that does not normalise to the number of
features aggregated. In the former case, sums of features might
be the result of 0 (if no feature was quantified) to <code>n</code>
(if all <code>topN</code>'s <code>n</code> features were quantified) features,
and one might want to rescale the sums based on the number of
non-NA features effectively summed.</p>
    </div>
    <div id="author">
    <h2>Author</h2>
    <p>Laurent Gatto <a href="mailto:lg390@cam.ac.uk">lg390@cam.ac.uk</a>, Sebastian Gibb
<a href="mailto:mail@sebastiangibb.de">mail@sebastiangibb.de</a></p>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">msnset</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">n</span> <span class="op">&lt;-</span> <span class="fl">2</span></span></span>
<span class="r-in"><span><span class="va">msnset</span> <span class="op">&lt;-</span> <span class="fu"><a href="MSnSet-class.html">topN</a></span><span class="op">(</span><span class="va">msnset</span>, groupBy <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/Biobase/man/featureData.html" class="external-link">fData</a></span><span class="op">(</span><span class="va">msnset</span><span class="op">)</span><span class="op">$</span><span class="va">ProteinAccession</span>, <span class="va">n</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">m</span> <span class="op">&lt;-</span> <span class="fu">nQuants</span><span class="op">(</span><span class="va">msnset</span>, groupBy <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/Biobase/man/featureData.html" class="external-link">fData</a></span><span class="op">(</span><span class="va">msnset</span><span class="op">)</span><span class="op">$</span><span class="va">ProteinAccession</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">msnset2</span> <span class="op">&lt;-</span> <span class="fu"><a href="combineFeatures.html">combineFeatures</a></span><span class="op">(</span><span class="va">msnset</span>,</span></span>
<span class="r-in"><span>                           groupBy <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/Biobase/man/featureData.html" class="external-link">fData</a></span><span class="op">(</span><span class="va">msnset</span><span class="op">)</span><span class="op">$</span><span class="va">ProteinAccession</span>,</span></span>
<span class="r-in"><span>                           method <span class="op">=</span> <span class="va">sum</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/stopifnot.html" class="external-link">stopifnot</a></span><span class="op">(</span><span class="fu"><a href="pSet-class.html">dim</a></span><span class="op">(</span><span class="va">n</span><span class="op">)</span> <span class="op">==</span> <span class="fu"><a href="pSet-class.html">dim</a></span><span class="op">(</span><span class="va">msnset2</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/pkg/Biobase/man/exprs.html" class="external-link">exprs</a></span><span class="op">(</span><span class="va">msnset2</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         iTRAQ4.114 iTRAQ4.115 iTRAQ4.116 iTRAQ4.117</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> BSA       2941.052   5174.721   8955.985  18023.287</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ECA0172  17593.548  18545.620  19361.837  18328.237</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ECA0435   9847.256  11115.636  11550.405  10158.590</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ECA0452   1524.148   1399.897   1547.218   1563.230</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ECA0469   2139.889   2071.378   2058.840   1999.391</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ECA0621   1101.062   1124.167   1140.093   1191.805</span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/pkg/Biobase/man/exprs.html" class="external-link">exprs</a></span><span class="op">(</span><span class="va">msnset2</span><span class="op">)</span> <span class="op">*</span> <span class="op">(</span><span class="va">n</span><span class="op">/</span><span class="va">m</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         iTRAQ4.114 iTRAQ4.115 iTRAQ4.116 iTRAQ4.117</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> BSA       2941.052   5174.721   8955.985  18023.287</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ECA0172  35187.095  37091.239  38723.673  36656.473</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ECA0435   9847.256  11115.636  11550.405  10158.590</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ECA0452   3048.295   2799.794   3094.437   3126.460</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ECA0469   2139.889   2071.378   2058.840   1999.391</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ECA0621   2202.124   2248.334   2280.186   2383.611</span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Laurent Gatto, Johannes Rainer, Sebastian Gibb.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.9000.</p>
</div>

      </footer></div>

  


  

  </body></html>

