<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Count the number of quantitfied features. — nQuants • MSnbase</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Count the number of quantitfied features. — nQuants"><meta name="description" content='This function counts the number of quantified features, i.e
non NA quantitation values, for each group of features
for all the samples in an "MSnSet" object.
The group of features are defined by a feature variable names, i.e
the name of a column of fData(object).'><meta property="og:description" content='This function counts the number of quantified features, i.e
non NA quantitation values, for each group of features
for all the samples in an "MSnSet" object.
The group of features are defined by a feature variable names, i.e
the name of a column of fData(object).'></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">MSnbase</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">2.33.5</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/v01-MSnbase-demo.html">MSnbase: MS data processing, visualisation and quantification</a></li>
    <li><a class="dropdown-item" href="../articles/v02-MSnbase-io.html">MSnbase IO capabilities</a></li>
    <li><a class="dropdown-item" href="../articles/v03-MSnbase-centroiding.html">MSnbase: centroiding of profile-mode MS data</a></li>
    <li><a class="dropdown-item" href="../articles/v04-benchmarking.html">MSnbase benchmarking</a></li>
    <li><a class="dropdown-item" href="../articles/v05-MSnbase-development.html">A short introduction to *MSnbase* development</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/lgatto/MSnbase/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Count the number of quantitfied features.</h1>
      <small class="dont-index">Source: <a href="https://github.com/lgatto/MSnbase/blob/methods-fragments/R/functions-MSnSet.R" class="external-link"><code>R/functions-MSnSet.R</code></a></small>
      <div class="d-none name"><code>nQuants.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>This function counts the number of quantified features, i.e
non NA quantitation values, for each group of features
for all the samples in an <code>"<a href="MSnSet-class.html">MSnSet</a>"</code> object.
The group of features are defined by a feature variable names, i.e
the name of a column of <code>fData(object)</code>.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">nQuants</span><span class="op">(</span><span class="va">x</span>, <span class="va">groupBy</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-x">x<a class="anchor" aria-label="anchor" href="#arg-x"></a></dt>
<dd><p>An instance of class <code>"<a href="MSnSet-class.html">MSnSet</a>"</code>.</p></dd>


<dt id="arg-groupby">groupBy<a class="anchor" aria-label="anchor" href="#arg-groupby"></a></dt>
<dd><p>An object of class <code>factor</code> defining how to
summerise the features. (Note that this parameter was
previously named <code>fcol</code> and referred to a feature
variable label. This has been updated in version 1.19.12 for
consistency with other functions.)</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A <code>matrix</code> of dimensions
<code>length(levels(groupBy))</code> by <code>ncol(x)</code></p>
<p>A <code>matrix</code> of dimensions
<code>length(levels(factor(fData(object)[, fcol])))</code> by
<code>ncol(object)</code> of integers.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>This function is typically used after <code><a href="MSnSet-class.html">topN</a></code> and before
<code><a href="combineFeatures.html">combineFeatures</a></code>, when the summerising function is
<code>sum</code>, or any function that does not normalise to the number of
features aggregated. In the former case, sums of features might
be the result of 0 (if no feature was quantified) to <code>n</code>
(if all <code>topN</code>'s <code>n</code> features were quantified) features,
and one might want to rescale the sums based on the number of
non-NA features effectively summed.</p>
    </div>
    <div class="section level2">
    <h2 id="author">Author<a class="anchor" aria-label="anchor" href="#author"></a></h2>
    <p>Laurent Gatto <a href="mailto:lg390@cam.ac.uk">lg390@cam.ac.uk</a>, Sebastian Gibb
<a href="mailto:mail@sebastiangibb.de">mail@sebastiangibb.de</a></p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">msnset</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">n</span> <span class="op">&lt;-</span> <span class="fl">2</span></span></span>
<span class="r-in"><span><span class="va">msnset</span> <span class="op">&lt;-</span> <span class="fu"><a href="MSnSet-class.html">topN</a></span><span class="op">(</span><span class="va">msnset</span>, groupBy <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/Biobase/man/featureData.html" class="external-link">fData</a></span><span class="op">(</span><span class="va">msnset</span><span class="op">)</span><span class="op">$</span><span class="va">ProteinAccession</span>, <span class="va">n</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">m</span> <span class="op">&lt;-</span> <span class="fu">nQuants</span><span class="op">(</span><span class="va">msnset</span>, groupBy <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/Biobase/man/featureData.html" class="external-link">fData</a></span><span class="op">(</span><span class="va">msnset</span><span class="op">)</span><span class="op">$</span><span class="va">ProteinAccession</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">msnset2</span> <span class="op">&lt;-</span> <span class="fu"><a href="combineFeatures.html">combineFeatures</a></span><span class="op">(</span><span class="va">msnset</span>,</span></span>
<span class="r-in"><span>                           groupBy <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/Biobase/man/featureData.html" class="external-link">fData</a></span><span class="op">(</span><span class="va">msnset</span><span class="op">)</span><span class="op">$</span><span class="va">ProteinAccession</span>,</span></span>
<span class="r-in"><span>                           method <span class="op">=</span> <span class="va">sum</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/stopifnot.html" class="external-link">stopifnot</a></span><span class="op">(</span><span class="fu"><a href="pSet-class.html">dim</a></span><span class="op">(</span><span class="va">n</span><span class="op">)</span> <span class="op">==</span> <span class="fu"><a href="pSet-class.html">dim</a></span><span class="op">(</span><span class="va">msnset2</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/pkg/Biobase/man/exprs.html" class="external-link">exprs</a></span><span class="op">(</span><span class="va">msnset2</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         iTRAQ4.114 iTRAQ4.115 iTRAQ4.116 iTRAQ4.117</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> BSA       2941.052   5174.721   8955.985  18023.287</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ECA0172  17593.548  18545.620  19361.837  18328.237</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ECA0435   9847.256  11115.636  11550.405  10158.590</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ECA0452   1524.148   1399.897   1547.218   1563.230</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ECA0469   2139.889   2071.378   2058.840   1999.391</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ECA0621   1101.062   1124.167   1140.093   1191.805</span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/pkg/Biobase/man/exprs.html" class="external-link">exprs</a></span><span class="op">(</span><span class="va">msnset2</span><span class="op">)</span> <span class="op">*</span> <span class="op">(</span><span class="va">n</span><span class="op">/</span><span class="va">m</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         iTRAQ4.114 iTRAQ4.115 iTRAQ4.116 iTRAQ4.117</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> BSA       2941.052   5174.721   8955.985  18023.287</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ECA0172  35187.095  37091.239  38723.673  36656.473</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ECA0435   9847.256  11115.636  11550.405  10158.590</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ECA0452   3048.295   2799.794   3094.437   3126.460</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ECA0469   2139.889   2071.378   2058.840   1999.391</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ECA0621   2202.124   2248.334   2280.186   2383.611</span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Laurent Gatto, Johannes Rainer, Sebastian Gibb.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.9000.</p>
</div>

    </footer></div>





  </body></html>

