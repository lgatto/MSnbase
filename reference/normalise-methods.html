<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Normalisation of MSnExp, MSnSet and Spectrum objects — normalise-methods • MSnbase</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Normalisation of MSnExp, MSnSet and Spectrum objects — normalise-methods"><meta name="description" content="The normalise method (also available as normalize)
  performs basic normalisation on spectra
  intensities of single spectra (&quot;Spectrum&quot; or
  &quot;Spectrum2&quot; objects),
  whole experiments (&quot;MSnExp&quot; objects) or
  quantified expression data (&quot;MSnSet&quot; objects).
Raw spectra and experiments are normalised using max or
  sum only. For MSMS spectra could be normalised to their
  precursor additionally. Each peak intensity is divided by the
  highest intensity in the spectrum, the sum of intensities or the intensity
  of the precursor.
  These methods aim at facilitating relative peaks heights between
  different spectra.
The method parameter for &quot;MSnSet&quot; can be
  one of sum, max, quantiles, center.mean,
  center.median, .median, quantiles.robust or
  vsn.  For sum and max, each feature's reporter
  intensity is divided by the maximum or the sum respectively. These two
  methods are applied along the features (rows).
center.mean and center.median translate the respective
  sample (column) intensities according to the column mean or
  median. diff.median translates all samples (columns) so that
  they all match the grand median. Using quantiles or
  quantiles.robust applies (robust) quantile normalisation, as
  implemented in normalize.quantiles and
  normalize.quantiles.robust of the preprocessCore
  package.  vsn uses the vsn2 function from the
  vsn package.  Note that the latter also glog-transforms the
  intensities.  See respective manuals for more details and function
  arguments.
A scale method, mimicking the base scale method exists
  for &quot;MSnSet&quot; instances. See
  ?base::scale for details."><meta property="og:description" content="The normalise method (also available as normalize)
  performs basic normalisation on spectra
  intensities of single spectra (&quot;Spectrum&quot; or
  &quot;Spectrum2&quot; objects),
  whole experiments (&quot;MSnExp&quot; objects) or
  quantified expression data (&quot;MSnSet&quot; objects).
Raw spectra and experiments are normalised using max or
  sum only. For MSMS spectra could be normalised to their
  precursor additionally. Each peak intensity is divided by the
  highest intensity in the spectrum, the sum of intensities or the intensity
  of the precursor.
  These methods aim at facilitating relative peaks heights between
  different spectra.
The method parameter for &quot;MSnSet&quot; can be
  one of sum, max, quantiles, center.mean,
  center.median, .median, quantiles.robust or
  vsn.  For sum and max, each feature's reporter
  intensity is divided by the maximum or the sum respectively. These two
  methods are applied along the features (rows).
center.mean and center.median translate the respective
  sample (column) intensities according to the column mean or
  median. diff.median translates all samples (columns) so that
  they all match the grand median. Using quantiles or
  quantiles.robust applies (robust) quantile normalisation, as
  implemented in normalize.quantiles and
  normalize.quantiles.robust of the preprocessCore
  package.  vsn uses the vsn2 function from the
  vsn package.  Note that the latter also glog-transforms the
  intensities.  See respective manuals for more details and function
  arguments.
A scale method, mimicking the base scale method exists
  for &quot;MSnSet&quot; instances. See
  ?base::scale for details."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">MSnbase</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">2.31.2</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/v01-MSnbase-demo.html">MSnbase: MS data processing, visualisation and quantification</a></li>
    <li><a class="dropdown-item" href="../articles/v02-MSnbase-io.html">MSnbase IO capabilities</a></li>
    <li><a class="dropdown-item" href="../articles/v03-MSnbase-centroiding.html">MSnbase: centroiding of profile-mode MS data</a></li>
    <li><a class="dropdown-item" href="../articles/v04-benchmarking.html">MSnbase benchmarking</a></li>
    <li><a class="dropdown-item" href="../articles/v05-MSnbase-development.html">A short introduction to *MSnbase* development</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/lgatto/MSnbase/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Normalisation of <code>MSnExp</code>, <code>MSnSet</code> and <code>Spectrum</code> objects</h1>

      <div class="d-none name"><code>normalise-methods.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>The <code>normalise</code> method (also available as <code>normalize</code>)
  performs basic normalisation on spectra
  intensities of single spectra (<code>"<a href="Spectrum-class.html">Spectrum</a>"</code> or
  <code>"<a href="Spectrum2-class.html">Spectrum2</a>"</code> objects),
  whole experiments (<code>"<a href="MSnExp-class.html">MSnExp</a>"</code> objects) or
  quantified expression data (<code>"<a href="MSnSet-class.html">MSnSet</a>"</code> objects).</p>
<p>Raw spectra and experiments are normalised using <code>max</code> or
  <code>sum</code> only. For MSMS spectra could be normalised to their
  <code>precursor</code> additionally. Each peak intensity is divided by the
  highest intensity in the spectrum, the sum of intensities or the intensity
  of the precursor.
  These methods aim at facilitating relative peaks heights between
  different spectra.</p>
<p>The <code>method</code> parameter for <code>"<a href="MSnSet-class.html">MSnSet</a>"</code> can be
  one of <code>sum</code>, <code>max</code>, <code>quantiles</code>, <code>center.mean</code>,
  <code>center.median</code>, <code>.median</code>, <code>quantiles.robust</code> or
  <code>vsn</code>.  For <code>sum</code> and <code>max</code>, each feature's reporter
  intensity is divided by the maximum or the sum respectively. These two
  methods are applied along the features (rows).</p>
<p><code>center.mean</code> and <code>center.median</code> translate the respective
  sample (column) intensities according to the column mean or
  median. <code>diff.median</code> translates all samples (columns) so that
  they all match the grand median. Using <code>quantiles</code> or
  <code>quantiles.robust</code> applies (robust) quantile normalisation, as
  implemented in <code>normalize.quantiles</code> and
  <code>normalize.quantiles.robust</code> of the <code>preprocessCore</code>
  package.  <code>vsn</code> uses the <code>vsn2</code> function from the
  <code>vsn</code> package.  Note that the latter also glog-transforms the
  intensities.  See respective manuals for more details and function
  arguments.</p>
<p>A <code>scale</code> method, mimicking the base <code>scale</code> method exists
  for <code>"<a href="MSnSet-class.html">MSnSet</a>"</code> instances. See
  <code>?base::<a href="https://rdrr.io/r/base/scale.html" class="external-link">scale</a></code> for details.</p>
    </div>


    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <p></p>
<dl><dt id="arg-object">object<a class="anchor" aria-label="anchor" href="#arg-object"></a></dt>
<dd><p>An object of class <code>"<a href="Spectrum-class.html">Spectrum</a>"</code>,
    <code>"<a href="Spectrum2-class.html">Spectrum2</a>"</code>, <code>"<a href="MSnExp-class.html">MSnExp</a>"</code> or
    <code>"<a href="MSnSet-class.html">MSnSet</a>"</code>.</p></dd>

  <dt id="arg-method">method<a class="anchor" aria-label="anchor" href="#arg-method"></a></dt>
<dd><p>A character vector of length one that describes how to normalise
    the object. See description for details.</p></dd>

  <dt id="arg--">...<a class="anchor" aria-label="anchor" href="#arg--"></a></dt>
<dd><p>Additional arguments passed to the normalisation function.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="methods">Methods<a class="anchor" aria-label="anchor" href="#methods"></a></h2>
    <p>The <code>normalise</code> methods:</p><dl><dt><code>signature(object = "MSnSet", method = "character")</code></dt>
<dd><p>Normalises the <code>object</code> reporter ions intensities using
      <code>method</code>.</p></dd>

    <dt><code>signature(object = "MSnExp", method = "character")</code></dt>
<dd><p>Normalises the <code>object</code> peak intensities using
      <code>method</code>.</p></dd>

    <dt><code>signature(object = "Spectrum", method = "character")</code></dt>
<dd><p>Normalises the <code>object</code> peak intensities using
      <code>method</code>.</p></dd>

    <dt><code>signature(object = "Spectrum2", method = "character",
        precursorIntensity)</code></dt>
<dd><p>Normalises the <code>object</code> peak intensities using
      <code>method</code>. If <code>method == "precursor"</code>,
      <code>precursorIntensity</code> allows to specify the intensity of the
      precursor manually.</p></dd>


</dl><p>The <code>scale</code> method:</p><dl><dt><code>signature(x = "MSnSet", center = "logical", scale =
	"logical")</code></dt>
<dd><p>See <code>?base::<a href="https://rdrr.io/r/base/scale.html" class="external-link">scale</a></code>.</p></dd>


</dl></div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co">## quantifying full experiment</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">msnset</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">msnset.nrm</span> <span class="op">&lt;-</span> <span class="fu">normalise</span><span class="op">(</span><span class="va">msnset</span>, <span class="st">"quantiles"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">msnset.nrm</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> MSnSet (storageMode: lockedEnvironment)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> assayData: 55 features, 4 samples </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   element names: exprs </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> protocolData: none</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> phenoData</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   sampleNames: iTRAQ4.114 iTRAQ4.115 iTRAQ4.116 iTRAQ4.117</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   varLabels: mz reporters</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   varMetadata: labelDescription</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> featureData</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   featureNames: X1 X10 ... X9 (55 total)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   fvarLabels: spectrum ProteinAccession ... collision.energy (15 total)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   fvarMetadata: labelDescription</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> experimentData: use 'experimentData(object)'</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Annotation: No annotation </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - - - Processing information - - -</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Data loaded: Wed May 11 18:54:39 2011 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> iTRAQ4 quantification by trapezoidation: Wed Apr  1 21:41:53 2015 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Normalised (quantiles): Tue Oct 15 15:27:00 2024 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  MSnbase version: 1.1.22 </span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Laurent Gatto, Johannes Rainer, Sebastian Gibb.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.9000.</p>
</div>

    </footer></div>





  </body></html>

