<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Normalisation of MSnExp, MSnSet and Spectrum objects — normalise-methods • MSnbase</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Normalisation of MSnExp, MSnSet and Spectrum objects — normalise-methods"><meta property="og:description" content="The normalise method (also available as normalize)
  performs basic normalisation on spectra 
  intensities of single spectra (&quot;Spectrum&quot; or 
  &quot;Spectrum2&quot; objects),
  whole experiments (&quot;MSnExp&quot; objects) or
  quantified expression data (&quot;MSnSet&quot; objects).
Raw spectra and experiments are normalised using max or
  sum only. For MSMS spectra could be normalised to their 
  precursor additionally. Each peak intensity is divided by the
  highest intensity in the spectrum, the sum of intensities or the intensity 
  of the precursor.
  These methods aim at facilitating relative peaks heights between
  different spectra.
The method parameter for &quot;MSnSet&quot; can be
  one of sum, max, quantiles, center.mean,
  center.median, .median, quantiles.robust or
  vsn.  For sum and max, each feature's reporter
  intensity is divided by the maximum or the sum respectively. These two
  methods are applied along the features (rows).  
center.mean and center.median translate the respective
  sample (column) intensities according to the column mean or
  median. diff.median translates all samples (columns) so that
  they all match the grand median. Using quantiles or
  quantiles.robust applies (robust) quantile normalisation, as
  implemented in normalize.quantiles and
  normalize.quantiles.robust of the preprocessCore
  package.  vsn uses the vsn2 function from the
  vsn package.  Note that the latter also glog-transforms the
  intensities.  See respective manuals for more details and function
  arguments.  
A scale method, mimicking the base scale method exists
  for &quot;MSnSet&quot; instances. See
  ?base::scale for details."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">MSnbase</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">2.29.5</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/v01-MSnbase-demo.html">MSnbase: MS data processing, visualisation and quantification</a>
    </li>
    <li>
      <a href="../articles/v02-MSnbase-io.html">MSnbase IO capabilities</a>
    </li>
    <li>
      <a href="../articles/v03-MSnbase-centroiding.html">MSnbase: centroiding of profile-mode MS data</a>
    </li>
    <li>
      <a href="../articles/v04-benchmarking.html">MSnbase benchmarking</a>
    </li>
    <li>
      <a href="../articles/v05-MSnbase-development.html">A short introduction to *MSnbase* development</a>
    </li>
  </ul></li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/lgatto/MSnbase/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Normalisation of <code>MSnExp</code>, <code>MSnSet</code> and <code>Spectrum</code> objects</h1>
    
    <div class="hidden name"><code>normalise-methods.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>The <code>normalise</code> method (also available as <code>normalize</code>)
  performs basic normalisation on spectra 
  intensities of single spectra (<code>"<a href="Spectrum-class.html">Spectrum</a>"</code> or 
  <code>"<a href="Spectrum2-class.html">Spectrum2</a>"</code> objects),
  whole experiments (<code>"<a href="MSnExp-class.html">MSnExp</a>"</code> objects) or
  quantified expression data (<code>"<a href="MSnSet-class.html">MSnSet</a>"</code> objects).</p>
<p>Raw spectra and experiments are normalised using <code>max</code> or
  <code>sum</code> only. For MSMS spectra could be normalised to their 
  <code>precursor</code> additionally. Each peak intensity is divided by the
  highest intensity in the spectrum, the sum of intensities or the intensity 
  of the precursor.
  These methods aim at facilitating relative peaks heights between
  different spectra.</p>
<p>The <code>method</code> parameter for <code>"<a href="MSnSet-class.html">MSnSet</a>"</code> can be
  one of <code>sum</code>, <code>max</code>, <code>quantiles</code>, <code>center.mean</code>,
  <code>center.median</code>, <code>.median</code>, <code>quantiles.robust</code> or
  <code>vsn</code>.  For <code>sum</code> and <code>max</code>, each feature's reporter
  intensity is divided by the maximum or the sum respectively. These two
  methods are applied along the features (rows).</p>  
<p><code>center.mean</code> and <code>center.median</code> translate the respective
  sample (column) intensities according to the column mean or
  median. <code>diff.median</code> translates all samples (columns) so that
  they all match the grand median. Using <code>quantiles</code> or
  <code>quantiles.robust</code> applies (robust) quantile normalisation, as
  implemented in <code>normalize.quantiles</code> and
  <code>normalize.quantiles.robust</code> of the <code>preprocessCore</code>
  package.  <code>vsn</code> uses the <code>vsn2</code> function from the
  <code>vsn</code> package.  Note that the latter also glog-transforms the
  intensities.  See respective manuals for more details and function
  arguments.</p>  
<p>A <code>scale</code> method, mimicking the base <code>scale</code> method exists
  for <code>"<a href="MSnSet-class.html">MSnSet</a>"</code> instances. See
  <code>?base::<a href="https://rdrr.io/r/base/scale.html" class="external-link">scale</a></code> for details.</p>
    </div>


    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt id="arg-object">object<a class="anchor" aria-label="anchor" href="#arg-object"></a></dt>
<dd><p>An object of class <code>"<a href="Spectrum-class.html">Spectrum</a>"</code>, 
    <code>"<a href="Spectrum2-class.html">Spectrum2</a>"</code>, <code>"<a href="MSnExp-class.html">MSnExp</a>"</code> or
    <code>"<a href="MSnSet-class.html">MSnSet</a>"</code>.</p></dd>

  <dt id="arg-method">method<a class="anchor" aria-label="anchor" href="#arg-method"></a></dt>
<dd><p>A character vector of length one that describes how to normalise
    the object. See description for details.</p></dd>

  <dt id="arg--">...<a class="anchor" aria-label="anchor" href="#arg--"></a></dt>
<dd><p>Additional arguments passed to the normalisation function.</p></dd>

</dl></div>
    <div id="methods">
    <h2>Methods</h2>
    <p>The <code>normalise</code> methods:</p><dl><dt><code>signature(object = "MSnSet", method = "character")</code></dt>
<dd><p>Normalises the <code>object</code> reporter ions intensities using
      <code>method</code>.</p></dd>

    <dt><code>signature(object = "MSnExp", method = "character")</code></dt>
<dd><p>Normalises the <code>object</code> peak intensities using
      <code>method</code>.</p></dd>

    <dt><code>signature(object = "Spectrum", method = "character")</code></dt>
<dd><p>Normalises the <code>object</code> peak intensities using
      <code>method</code>.</p></dd>

    <dt><code>signature(object = "Spectrum2", method = "character",
        precursorIntensity)</code></dt>
<dd><p>Normalises the <code>object</code> peak intensities using
      <code>method</code>. If <code>method == "precursor"</code>, 
      <code>precursorIntensity</code> allows to specify the intensity of the
      precursor manually.</p></dd>

  
</dl><p>The <code>scale</code> method:</p><dl><dt><code>signature(x = "MSnSet", center = "logical", scale =
	"logical")</code></dt>
<dd><p>See <code>?base::<a href="https://rdrr.io/r/base/scale.html" class="external-link">scale</a></code>.</p></dd>

  
</dl></div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co">## quantifying full experiment</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">msnset</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">msnset.nrm</span> <span class="op">&lt;-</span> <span class="fu">normalise</span><span class="op">(</span><span class="va">msnset</span>, <span class="st">"quantiles"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">msnset.nrm</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> MSnSet (storageMode: lockedEnvironment)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> assayData: 55 features, 4 samples </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   element names: exprs </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> protocolData: none</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> phenoData</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   sampleNames: iTRAQ4.114 iTRAQ4.115 iTRAQ4.116 iTRAQ4.117</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   varLabels: mz reporters</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   varMetadata: labelDescription</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> featureData</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   featureNames: X1 X10 ... X9 (55 total)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   fvarLabels: spectrum ProteinAccession ... collision.energy (15 total)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   fvarMetadata: labelDescription</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> experimentData: use 'experimentData(object)'</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Annotation: No annotation </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - - - Processing information - - -</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Data loaded: Wed May 11 18:54:39 2011 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> iTRAQ4 quantification by trapezoidation: Wed Apr  1 21:41:53 2015 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Normalised (quantiles): Tue Apr 30 12:22:49 2024 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  MSnbase version: 1.1.22 </span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Laurent Gatto, Johannes Rainer, Sebastian Gibb.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.9.9000.</p>
</div>

      </footer></div>

  


  

  </body></html>

